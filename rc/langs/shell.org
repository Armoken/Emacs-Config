* Shell
  #+BEGIN_SRC emacs-lisp :noweb tangle
    (use-package shell-script-mode
        :mode (("\\.ebuild\\'" . shell-script-mode)
               ("\\.sh\\'"     . shell-script-mode))
        :hook (sh-mode . ayrc/shell-hook)
        :init
        (progn
            <<company-shell-use-package>>)
        :preface
        (progn
            <<shell-hook>>))
  #+END_SRC

** Autocompletion
   #+BEGIN_SRC emacs-lisp :tangle no :noweb-ref company-shell-use-package
     (use-package company-shell
         :ensure t)
   #+END_SRC

** Hook
   #+BEGIN_SRC emacs-lisp :tangle no :noweb-ref shell-hook
     (defun ayrc/shell-hook()
         (setq indent-tabs-mode t)

         (display-line-numbers-mode 1)
         (visual-line-mode          1)

         ;; Very bad behaviour during work with long strings
         ;; (auto-fill-mode            -1)

         (ws-butler-mode            1)
         (smartparens-mode          1)
         (semantic-mode             1)
         (yas-minor-mode            1)

         (hs-minor-mode             1)
         (flycheck-mode             1)

         (company-mode              1)
         (make-local-variable 'company-backends)
         (add-to-list 'company-backends
                      '(company-shell company-yasnippet)))
   #+END_SRC
